<html>
<head>
<title>Smart Home</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<script src="raphael-2.1.4.min.js"></script>
<script src="justgage-1.1.0.min.js"></script>
<script>
var accessToken = "cdbb62cef07f7914ecf1a88e933d719f53b1678a";
var deviceID = "2b0030001647343337363432"
var url = "https://api.spark.io/v1/devices/" + deviceID + "/volts";
var url = "https://api.spark.io/v1/devices/" + deviceID + "/light";
console.log(url);
function callback(data, status){
if (status == "success") {
volts = parseFloat(data.result);
volts = volts*100;
volts = volts.toFixed(3);

g.refresh(volts);
g.refresh(light);
setTimeout(getReading, 1000);
}
else {
alert("There was a problem");
}
}
function getReading(){
$.get(url, {access_token: accessToken}, callback);
}
</script>
</head>
<body>
<div id="gauge" class="100x80px" align="left"></div>

<script>
var g = new JustGage({
id: "gauge",
value: 0,
min: 0,
max: 300,
decimals: 1,
title: "Temperature (in \u2103)"
});
g.setCustomRange=function(min, max){
	 // set new min
	   if (min !== null) {
		g.config.min = min;
		// TODO: update customSectors

		g.txtMinimum = g.config.min;
		if (g.config.humanFriendly) {
		  g.txtMinimum = humanFriendlyNumber(g.config.min, g.config.humanFriendlyDecimal);
		} else if (g.config.formatNumber) {
		  g.txtMinimum = formatNumber(g.config.min);
		}
		if (!g.config.reverse) {
		  g.txtMin.attr({
			"text": g.txtMinimum
		  });
		  setDy(g.txtMin, g.params.minFontSize, g.params.minY);
		} else {
		  g.txtMax.attr({
			"text": g.txtMinimum
		  });
		  setDy(g.txtMax, g.params.maxFontSize, g.params.maxY);
		}
	  }

	g.refresh(volts, max);
}
getReading();

</script>

<div id="gauge1" class="100x80px" align="right"></div> 
<script>
var g = new JustGage({
id: "gauge1",
value: 0,
min: 1000,
max: 4000,
decimals: 1,
title: "Light Intensity (in V)"
});
g.setCustomRange=function(min, max){
	 // set new min
	   if (min !== null) {
		g.config.min = min;
		// TODO: update customSectors

		g.txtMinimum = g.config.min;
		if (g.config.humanFriendly) {
		  g.txtMinimum = humanFriendlyNumber(g.config.min, g.config.humanFriendlyDecimal);
		} else if (g.config.formatNumber) {
		  g.txtMinimum = formatNumber(g.config.min);
		}
		if (!g.config.reverse) {
		  g.txtMin.attr({
			"text": g.txtMinimum
		  });
		  setDy(g.txtMin, g.params.minFontSize, g.params.minY);
		} else {
		  g.txtMax.attr({
			"text": g.txtMinimum
		  });
		  setDy(g.txtMax, g.params.maxFontSize, g.params.maxY);
		}
	  }

	g.refresh(light, max);
}
getReading();
</script>
<!--<h1>Dheeraj </h1>-->
</body>
</html>
